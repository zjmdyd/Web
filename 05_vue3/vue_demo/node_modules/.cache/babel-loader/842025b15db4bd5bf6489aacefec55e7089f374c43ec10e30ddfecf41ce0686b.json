{"ast":null,"code":"import { useStore, mapState } from 'vuex';\nimport { computed } from 'vue';\nexport default function (mapper) {\n  // 获取key,并判断是否存在\n  const store = useStore();\n  // 获取相应的对象 : {name:function,age:function}\n  const storeStateFns = mapState(mapper);\n  // 进行 $store 指向 ，并赋值\n  const storeState = {};\n  console.log({\n    $store: store\n  });\n  Object.keys(storeStateFns).forEach(Fnkey => {\n    // setup中无this 指向,在 compute中计算state时需要  $store 指向 ,所以使用bind() 绑定 $store\n    console.log('storeStateFns[' + Fnkey + '] = ');\n    console.log(storeStateFns[Fnkey]);\n    const fn = storeStateFns[Fnkey].bind({\n      $store: store\n    });\n    storeState[Fnkey] = computed(fn);\n  });\n  // 返回值\n  return storeState;\n}","map":{"version":3,"names":["useStore","mapState","computed","mapper","store","storeStateFns","storeState","console","log","$store","Object","keys","forEach","Fnkey","fn","bind"],"sources":["/Users/issuser/Desktop/Project/Web/05_vue3/vue_demo/src/store/useState.js"],"sourcesContent":["import { useStore, mapState } from 'vuex'\nimport { computed } from 'vue';\n\nexport default function (mapper) {\n  // 获取key,并判断是否存在\n  const store = useStore();\n  // 获取相应的对象 : {name:function,age:function}\n  const storeStateFns = mapState(mapper);\n  // 进行 $store 指向 ，并赋值\n  const storeState = {}\n  console.log({ $store: store })\n  Object.keys(storeStateFns).forEach(Fnkey => {\n    // setup中无this 指向,在 compute中计算state时需要  $store 指向 ,所以使用bind() 绑定 $store\n    console.log('storeStateFns[' + Fnkey + '] = ')\n    console.log(storeStateFns[Fnkey])\n    const fn = storeStateFns[Fnkey].bind({ $store: store });\n    storeState[Fnkey] = computed(fn)\n  })\n  // 返回值\n  return storeState;\n}"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,QAAQ,QAAQ,MAAM;AACzC,SAASC,QAAQ,QAAQ,KAAK;AAE9B,eAAe,UAAUC,MAAM,EAAE;EAC/B;EACA,MAAMC,KAAK,GAAGJ,QAAQ,EAAE;EACxB;EACA,MAAMK,aAAa,GAAGJ,QAAQ,CAACE,MAAM,CAAC;EACtC;EACA,MAAMG,UAAU,GAAG,CAAC,CAAC;EACrBC,OAAO,CAACC,GAAG,CAAC;IAAEC,MAAM,EAAEL;EAAM,CAAC,CAAC;EAC9BM,MAAM,CAACC,IAAI,CAACN,aAAa,CAAC,CAACO,OAAO,CAACC,KAAK,IAAI;IAC1C;IACAN,OAAO,CAACC,GAAG,CAAC,gBAAgB,GAAGK,KAAK,GAAG,MAAM,CAAC;IAC9CN,OAAO,CAACC,GAAG,CAACH,aAAa,CAACQ,KAAK,CAAC,CAAC;IACjC,MAAMC,EAAE,GAAGT,aAAa,CAACQ,KAAK,CAAC,CAACE,IAAI,CAAC;MAAEN,MAAM,EAAEL;IAAM,CAAC,CAAC;IACvDE,UAAU,CAACO,KAAK,CAAC,GAAGX,QAAQ,CAACY,EAAE,CAAC;EAClC,CAAC,CAAC;EACF;EACA,OAAOR,UAAU;AACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}