{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport useState from '@/store/useState';\nexport default {\n  setup() {\n    // 从vuex数据仓库里面取数据\n    const store = useStore();\n    //单个属性监听\n    const res = computed(() => {\n      console.log('子组件computed钩子函数被调用, 修改了name');\n      console.log(store.state.name);\n      return store.state.name;\n    });\n    const singleAge = computed(() => {\n      console.log('子组件computed钩子函数被调用,修改了age');\n      console.log(store.state.age);\n      return store.state.age;\n    });\n    const udAge = ref('');\n    // const udAge = computed(() => {\n    //   console.log('子组件computed钩子函数被调用,修改了age')\n    //   console.log(store.state.age)\n    //   return store.state.age\n    // })\n\n    // mapState监听多个计算属性，传入数组，\n    const storeStateArr = useState([\"name\", \"age\"]);\n    // console.log('storeStateArr')\n    // console.log(storeStateArr)\n    console.log('store.getters');\n    console.log(store.getters);\n    console.log(store.getters.doneTodos);\n    console.log(store.getters.doneTodosCount);\n\n    // 点击调用vuex并且改变vuex仓库里的数据\n    function btnEvent() {\n      // 异步调用:dispatch\n      store.dispatch('sub', ['雷军', 50]);\n      // 同步调用\n      // store.commit('trigger')  // 不带参的\n      // store.commit('trigger', '雷军') // 带参的，各种数据类型都可以传\n    }\n\n    function updateAge(val) {\n      console.log('val = ');\n      console.log(val);\n      // store.dispatch('sub', ['雷军', e.data])\n    }\n\n    return {\n      res,\n      singleAge,\n      udAge,\n      btnEvent,\n      updateAge,\n      ...storeStateArr\n    };\n  }\n};","map":{"version":3,"mappings":"AAoBA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,SAASC,QAAO,QAAS,MAAK;AAC9B,OAAOC,QAAO,MAAO,kBAAiB;AAEtC,eAAgB;EACdC,KAAK,GAAG;IACN;IACA,MAAMC,KAAI,GAAIH,QAAQ,EAAC;IACvB;IACA,MAAMI,GAAE,GAAIL,QAAQ,CAAC,MAAM;MACzBM,OAAO,CAACC,GAAG,CAAC,6BAA6B;MACzCD,OAAO,CAACC,GAAG,CAACH,KAAK,CAACI,KAAK,CAACC,IAAI;MAC5B,OAAOL,KAAK,CAACI,KAAK,CAACC,IAAG;IACxB,CAAC;IAED,MAAMC,SAAQ,GAAIV,QAAQ,CAAC,MAAM;MAC/BM,OAAO,CAACC,GAAG,CAAC,2BAA2B;MACvCD,OAAO,CAACC,GAAG,CAACH,KAAK,CAACI,KAAK,CAACG,GAAG;MAC3B,OAAOP,KAAK,CAACI,KAAK,CAACG,GAAE;IACvB,CAAC;IACD,MAAMC,KAAI,GAAIb,GAAG,CAAC,EAAE;IACpB;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMc,aAAY,GAAIX,QAAQ,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAC/C;IACA;IACAI,OAAO,CAACC,GAAG,CAAC,eAAe;IAC3BD,OAAO,CAACC,GAAG,CAACH,KAAK,CAACU,OAAO;IACzBR,OAAO,CAACC,GAAG,CAACH,KAAK,CAACU,OAAO,CAACC,SAAS;IACnCT,OAAO,CAACC,GAAG,CAACH,KAAK,CAACU,OAAO,CAACE,cAAc;;IAExC;IACA,SAASC,QAAQ,GAAG;MAClB;MACAb,KAAK,CAACc,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;MAChC;MACA;MACA;IACF;;IACA,SAASC,SAAS,CAACC,GAAG,EAAE;MACtBd,OAAO,CAACC,GAAG,CAAC,QAAQ;MACpBD,OAAO,CAACC,GAAG,CAACa,GAAG;MACf;IACF;;IACA,OAAO;MAAEf,GAAG;MAAEK,SAAS;MAAEE,KAAK;MAAEK,QAAQ;MAAEE,SAAS;MAAE,GAAGN;IAAa;EACvE;AACF,CAAC","names":["ref","computed","useStore","useState","setup","store","res","console","log","state","name","singleAge","age","udAge","storeStateArr","getters","doneTodos","doneTodosCount","btnEvent","dispatch","updateAge","val"],"sourceRoot":"","sources":["/Users/issuser/Desktop/Project/Web/05_vue3/vue_demo/src/components/vue3-011.vue"],"sourcesContent":["<!-- 安装vuex -->\n<!-- npm install vuex@next --save -->\n\n<template>\n  <div class=\"back\">\n    这是子组件\n    <h2>姓名: {{ res }}</h2>\n    <h2>年龄: {{ singleAge }}</h2>\n    *****使用mapState生成多个计算属性\n    <h2>年级: {{ name }}</h2>\n    <h2>年龄: {{ age }}</h2>\n    <br>\n    <button @click=\"btnEvent\">点击改变vuex数据仓库里面的数据</button>\n    <br />\n    输入年龄:<input :value=\"\" @input=\"updateAge\"/>\n  </div>\n</template>\n\n<script>\n\nimport { ref, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport useState from '@/store/useState'\n\nexport default ({\n  setup() {\n    // 从vuex数据仓库里面取数据\n    const store = useStore()\n    //单个属性监听\n    const res = computed(() => {\n      console.log('子组件computed钩子函数被调用, 修改了name')\n      console.log(store.state.name)\n      return store.state.name\n    })\n\n    const singleAge = computed(() => {\n      console.log('子组件computed钩子函数被调用,修改了age')\n      console.log(store.state.age)\n      return store.state.age\n    })\n    const udAge = ref('')\n    // const udAge = computed(() => {\n    //   console.log('子组件computed钩子函数被调用,修改了age')\n    //   console.log(store.state.age)\n    //   return store.state.age\n    // })\n    \n    // mapState监听多个计算属性，传入数组，\n    const storeStateArr = useState([\"name\", \"age\"]);\n    // console.log('storeStateArr')\n    // console.log(storeStateArr)\n    console.log('store.getters')\n    console.log(store.getters)\n    console.log(store.getters.doneTodos)\n    console.log(store.getters.doneTodosCount)\n\n    // 点击调用vuex并且改变vuex仓库里的数据\n    function btnEvent() {\n      // 异步调用:dispatch\n      store.dispatch('sub', ['雷军', 50])\n      // 同步调用\n      // store.commit('trigger')  // 不带参的\n      // store.commit('trigger', '雷军') // 带参的，各种数据类型都可以传\n    }\n    function updateAge(val) {\n      console.log('val = ')\n      console.log(val)\n      // store.dispatch('sub', ['雷军', e.data])\n    }\n    return { res, singleAge, udAge, btnEvent, updateAge, ...storeStateArr}\n  },\n})\n\n</script>\n\n<style scoped>\n.back {\n  background-color: blueviolet;\n  color: white;\n  padding: 20px 0;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}