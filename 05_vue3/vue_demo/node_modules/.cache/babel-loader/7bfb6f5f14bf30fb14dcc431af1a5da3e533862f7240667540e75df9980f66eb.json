{"ast":null,"code":"// reactive不能用基本数据类型，ref可以\nimport { ref, toRef } from 'vue';\nexport default {\n  setup() {\n    const obj = {\n      name: '马云',\n      age: 50\n    }; // 源数据\n    const res = toRef(obj, 'name'); // toRef需传两个参数，第一个操作对象，第二个对象的某个属性\n\n    const num = 0; // 源数据\n    const ref_in = ref(num); // 实质是复制操作\n    function btnEvent() {\n      res.value = '马化腾'; // toRef需改响应数据会影响源数据但不会更新视图层\n      console.log(res); // {name: '马化腾', age: 50}，源数据已改\n      console.log(obj); // {name: '马化腾', age: 50}，源数据已改\n\n      ref_in.value++;\n      console.log(num); // num不会改变，ref改响应数据不会影响源数据，但会更新视图层\n    }\n\n    return {\n      btnEvent,\n      obj,\n      res,\n      ref_in\n    };\n  }\n};","map":{"version":3,"mappings":"AASA;AACA,SAASA,GAAG,EAAEC,KAAI,QAAS,KAAK;AAChC,eAAgB;EACdC,KAAK,GAAG;IACN,MAAMC,GAAE,GAAI;MAAEC,IAAI,EAAE,IAAI;MAAEC,GAAG,EAAE;IAAG,CAAC,EAAK;IACxC,MAAMC,GAAE,GAAIL,KAAK,CAACE,GAAG,EAAE,MAAM,CAAC,EAAE;;IAEhC,MAAMI,GAAE,GAAI,CAAC,EAAe;IAC5B,MAAMC,MAAK,GAAIR,GAAG,CAACO,GAAG,CAAC,EAAK;IAC5B,SAASE,QAAQ,GAAG;MAClBH,GAAG,CAACI,KAAI,GAAI,KAAK,EAAI;MACrBC,OAAO,CAACC,GAAG,CAACN,GAAG,GAAS;MACxBK,OAAO,CAACC,GAAG,CAACT,GAAG,GAAS;;MAExBK,MAAM,CAACE,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC,EAAI;IACtB;;IAEA,OAAO;MAAEE,QAAQ;MAAEN,GAAG;MAAEG,GAAG;MAAEE;IAAO;EACtC;AACF,CAAC","names":["ref","toRef","setup","obj","name","age","res","num","ref_in","btnEvent","value","console","log"],"sourceRoot":"","sources":["/Users/issuser/Desktop/Project/Web/05_vue3/vue_demo/src/components/vue3-004.vue"],"sourcesContent":["<template>\n    *******这是子组件******\n  <h1>姓名: {{ obj }}</h1>\n  <h1>年龄: {{ obj.age }}</h1>\n  <h1>ref的数据:{{ ref_in }}</h1>\n  <button @click=\"btnEvent\">点击更新视图层某一个数据</button>\n</template>\n\n<script>\n// reactive不能用基本数据类型，ref可以\nimport { ref, toRef } from 'vue';\nexport default ({\n  setup() {\n    const obj = { name: '马云', age: 50 };    // 源数据\n    const res = toRef(obj, 'name'); // toRef需传两个参数，第一个操作对象，第二个对象的某个属性\n\n    const num = 0;              // 源数据\n    const ref_in = ref(num);    // 实质是复制操作\n    function btnEvent() {\n      res.value = '马化腾';   // toRef需改响应数据会影响源数据但不会更新视图层\n      console.log(res)        // {name: '马化腾', age: 50}，源数据已改\n      console.log(obj)        // {name: '马化腾', age: 50}，源数据已改\n\n      ref_in.value++;\n      console.log(num);   // num不会改变，ref改响应数据不会影响源数据，但会更新视图层\n    }\n\n    return { btnEvent, obj, res, ref_in }\n  },\n})\n\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}