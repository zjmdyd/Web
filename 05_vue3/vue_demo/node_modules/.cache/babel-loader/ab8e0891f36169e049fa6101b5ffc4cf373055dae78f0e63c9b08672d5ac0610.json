{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-25406c00\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"back\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_4 = [\"value\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createTextVNode(\" 这是子组件 \"), _createElementVNode(\"h2\", null, \"姓名: \" + _toDisplayString($setup.res), 1 /* TEXT */), _createElementVNode(\"h2\", null, \"年龄: \" + _toDisplayString($setup.singleAge), 1 /* TEXT */), _createTextVNode(\" *****使用mapState生成多个计算属性 \"), _createElementVNode(\"h2\", null, \"年级: \" + _toDisplayString(_ctx.name), 1 /* TEXT */), _createElementVNode(\"h2\", null, \"年龄: \" + _toDisplayString(_ctx.age), 1 /* TEXT */), _hoisted_2, _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.btnEvent && $setup.btnEvent(...args))\n  }, \"点击改变vuex数据仓库里面的数据\"), _hoisted_3, _createTextVNode(\" 输入年龄:\"), _createElementVNode(\"input\", {\n    value: $setup.udAge,\n    onInput: _cache[1] || (_cache[1] = (...args) => $setup.updateAge && $setup.updateAge(...args))\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_4)]);\n}","map":{"version":3,"mappings":";;;EAIOA,KAAK,EAAC;AAAM;gEAOfC,oBAAI;gEAEJA,oBAAM;;;uBATRC,oBAWM,OAXNC,UAWM,oBAXY,SAEhB,uBAAsB,YAAlB,MAAI,oBAAGC,UAAG,kBACdH,oBAA4B,YAAxB,MAAI,oBAAGG,gBAAS,mCAAQ,2BAE5B,uBAAuB,YAAnB,MAAI,oBAAGC,SAAI,kBACfJ,oBAAsB,YAAlB,MAAI,oBAAGI,QAAG,kBACdC,UAAI,EACJL,oBAAoD;IAA3CM,OAAK,yCAAEH,2CAAQ;KAAE,mBAAiB,GAC3CI,UAAM,2BACD,uBAA0C;IAAlCC,KAAK,EAAEL,YAAK;IAAGM,OAAK,yCAAEN,6CAAS","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","$setup","_ctx","_hoisted_2","onClick","_hoisted_3","value","onInput"],"sourceRoot":"","sources":["/Users/issuser/Desktop/Project/Web/05_vue3/vue_demo/src/components/vue3-011.vue"],"sourcesContent":["<!-- 安装vuex -->\n<!-- npm install vuex@next --save -->\n\n<template>\n  <div class=\"back\">\n    这是子组件\n    <h2>姓名: {{ res }}</h2>\n    <h2>年龄: {{ singleAge }}</h2>\n    *****使用mapState生成多个计算属性\n    <h2>年级: {{ name }}</h2>\n    <h2>年龄: {{ age }}</h2>\n    <br>\n    <button @click=\"btnEvent\">点击改变vuex数据仓库里面的数据</button>\n    <br />\n    输入年龄:<input :value=\"udAge\" @input=\"updateAge\"/>\n  </div>\n</template>\n\n<script>\n\nimport { ref, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport useState from '@/store/useState'\n\nexport default ({\n  setup() {\n    // 从vuex数据仓库里面取数据\n    const store = useStore()\n    //单个属性监听\n    const res = computed(() => {\n      console.log('子组件computed钩子函数被调用, 修改了name')\n      console.log(store.state.name)\n      return store.state.name\n    })\n\n    const singleAge = computed(() => {\n      console.log('子组件computed钩子函数被调用,修改了age')\n      console.log(store.state.age)\n      return store.state.age\n    })\n    const udAge = ref('')\n    // const udAge = computed(() => {\n    //   console.log('子组件computed钩子函数被调用,修改了age')\n    //   console.log(store.state.age)\n    //   return store.state.age\n    // })\n    \n    // mapState监听多个计算属性，传入数组，\n    const storeStateArr = useState([\"name\", \"age\"]);\n    // console.log('storeStateArr')\n    // console.log(storeStateArr)\n    console.log('store.getters')\n    console.log(store.getters)\n    console.log(store.getters.doneTodos)\n    console.log(store.getters.doneTodosCount)\n\n    // 点击调用vuex并且改变vuex仓库里的数据\n    function btnEvent() {\n      // 异步调用:dispatch\n      store.dispatch('sub', ['雷军', 50])\n      // 同步调用\n      // store.commit('trigger')  // 不带参的\n      // store.commit('trigger', '雷军') // 带参的，各种数据类型都可以传\n    }\n    function updateAge(e) {\n      console.log('e = ')\n      console.log(e)\n      store.dispatch('sub', ['雷军', e.target.value])\n    }\n    return { res, singleAge, udAge, btnEvent, updateAge, ...storeStateArr}\n  },\n})\n\n</script>\n\n<style scoped>\n.back {\n  background-color: blueviolet;\n  color: white;\n  padding: 20px 0;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}